(this["webpackJsonpreact-music-player"]=this["webpackJsonpreact-music-player"]||[]).push([[0],{19:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(2),r=c.n(a),i=c(12),s=c.n(i),o=c(4),u=c.n(o),l=c(6),d=c(3),p=c(8),b=(c(19),c(7)),h=c(5),j=function(e){var t=e.setLibraryStatus,c=e.libraryStatus;return Object(n.jsxs)("nav",{children:[Object(n.jsx)("h1",{children:"Waves"}),Object(n.jsxs)("button",{onClick:function(){t(!c)},children:["Library",Object(n.jsx)(b.a,{icon:h.c})]})]})},f=function(e){var t=e.audioRef,c=e.currentSong,a=e.isPlaying,r=e.setIsPlaying,i=e.songInfo,s=e.setSongInfo,o=e.songs,p=e.setCurrentSong,j=e.setSongs,f=function(e){var t=o.map((function(t){return t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{active:!0}):Object(d.a)(Object(d.a)({},t),{},{active:!1})}));j(t)},m=function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.findIndex((function(e){return e.id===c.id})),"skip-forward"!==n){e.next=5;break}return e.next=4,p(o[(r+1)%o.length]);case 4:f(o[(r+1)%o.length]);case 5:if("skip-back"!==n){e.next=15;break}if(0!==r){e.next=12;break}return e.next=9,p(o[o.length-1]);case 9:return f(o[o.length-1]),a&&t.current.play(),e.abrupt("return");case 12:return e.next=14,p(o[(r-1)%o.length]);case 14:f(o[(r-1)%o.length]);case 15:a&&t.current.play();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},v={transform:"translateX(".concat(i.animationPercentage,"%)")};return Object(n.jsxs)("div",{className:"player",children:[Object(n.jsxs)("div",{className:"time-control",children:[Object(n.jsx)("p",{children:i.duration?g(i.currentTime):"0:00"}),Object(n.jsxs)("div",{style:{background:"linear-gradient(to right, ".concat(c.color[0],", ").concat(c.color[1],")")},className:"track",children:[Object(n.jsx)("input",{type:"range",min:0,max:i.duration||0,value:i.currentTime,onChange:function(e){t.current.currentTime=e.target.value,s(Object(d.a)(Object(d.a)({},i),{},{currentTime:e.target.value}))}}),Object(n.jsx)("div",{style:v,className:"animate-track"})]}),Object(n.jsx)("p",{children:g(i.duration)})]}),Object(n.jsxs)("div",{className:"play-control",children:[Object(n.jsx)(b.a,{className:"skip-back",onClick:function(){m("skip-back")},size:"2x",icon:h.a}),Object(n.jsx)(b.a,{onClick:function(){a?(t.current.pause(),r(!a)):(t.current.play(),r(!a))},className:"play",size:"2x",icon:a?h.d:h.e}),Object(n.jsx)(b.a,{className:"skip-forward",onClick:function(){m("skip-forward")},size:"2x",icon:h.b})]})]})},m=function(e){var t=e.currentSong;return Object(n.jsxs)("div",{className:"song-container",children:[Object(n.jsx)("img",{alt:t.name,src:t.cover}),Object(n.jsx)("h2",{children:t.name}),Object(n.jsx)("h3",{children:t.artist})]})},g=function(e){var t=e.song,c=e.setCurrentSong,a=e.songs,r=e.id,i=e.audioRef,s=e.isPlaying,o=e.setSongs,p=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),n=a.map((function(e){return e.id===r?Object(d.a)(Object(d.a)({},e),{},{active:!0}):Object(d.a)(Object(d.a)({},e),{},{active:!1})})),e.next=4,o(n);case 4:s&&i.current.play();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{onClick:p,className:"library-song ".concat(t.active?"selected":""),children:[Object(n.jsx)("img",{src:t.cover,alt:t.name}),Object(n.jsxs)("div",{className:"song-description",children:[Object(n.jsx)("h3",{children:t.name}),Object(n.jsx)("h4",{children:t.artist})]})]})},v=function(e){var t=e.songs,c=e.setCurrentSong,a=e.audioRef,r=e.isPlaying,i=e.setSongs,s=e.libraryStatus;return Object(n.jsxs)("div",{className:"library ".concat(s?"active-library":""," "),children:[Object(n.jsx)("h1",{children:"Library"}),Object(n.jsx)("div",{className:"library-songs",children:t.map((function(e){return Object(n.jsx)(g,{audioRef:a,songs:t,setCurrentSong:c,song:e,setSongs:i,id:e.id,isPlaying:r},e.id)}))})]})},O=c(27);var x=function(){return[{name:"Bookshelves",cover:"https://chillhop.com/wp-content/uploads/2020/09/c209a7df7b9bc133dfff73ce86ebc3c57c2b73dd-300x300.jpg",artist:"Sleepy Fish",audio:"https://mp3.chillhop.com/serve.php/?mp3=10022",color:["#55737F","#889E9D"],id:Object(O.a)(),active:!0},{name:"Chiaroscuro",cover:"https://i.scdn.co/image/f224e10c60520c54ef64638a8b6ce44a812243d5",artist:"Toonorth",audio:"https://mp3.chillhop.com/serve.php/?mp3=7841",color:["#3AA36B","#FA683F"],id:Object(O.a)(),active:!1},{name:"Better, Together, Forever",cover:"https://i.scdn.co/image/ab67616d00001e024b24d2de142e1d4dc3a698b1",artist:"Team Astro",audio:"https://mp3.chillhop.com/serve.php/?mp3=9253",color:["#8C7677","#4E5558"],id:Object(O.a)(),active:!1},{name:"Lagoons",cover:"https://chillhop.com/wp-content/uploads/2020/06/49f6e32ca521fbad46a1b281e3893cf6254bf11d-300x300.jpg",artist:"Strehlow, Chris Mazuera",audio:"https://mp3.chillhop.com/serve.php/?mp3=9266",color:["#BA4A46","#FDF0DD"],id:Object(O.a)(),active:!1},{name:"There and Back",cover:"https://chillhop.com/wp-content/uploads/2020/10/0e5bb63f838ff92eeac142aae944e9f678df13c9-300x300.jpg",artist:"Shopan",audio:"https://mp3.chillhop.com/serve.php/?mp3=10311",color:["#CEB6C6","#1F487C"],id:Object(O.a)(),active:!1},{name:"Beyond Clouds",cover:"https://i.scdn.co/image/ab67616d00001e024b24d2de142e1d4dc3a698b1",artist:"Saib",audio:"https://mp3.chillhop.com/serve.php/?mp3=9297",color:["#8C7677","#4E5558"],id:Object(O.a)(),active:!1},{name:"String Along",cover:"https://chillhop.com/wp-content/uploads/2020/10/0e5bb63f838ff92eeac142aae944e9f678df13c9-300x300.jpg",artist:"Miscel",audio:"https://mp3.chillhop.com/serve.php/?mp3=10315",color:["#CEB6C6","#1F487C"],id:Object(O.a)(),active:!1},{name:"Jazz Cabbage",cover:"https://chillhop.com/wp-content/uploads/2020/06/49f6e32ca521fbad46a1b281e3893cf6254bf11d-300x300.jpg",artist:"Ian Ewing, Strehlow",audio:"https://mp3.chillhop.com/serve.php/?mp3=9363",color:["#FCF1D5","#937084"],id:Object(O.a)(),active:!1}]};var y=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(x()),c=Object(p.a)(t,2),r=c[0],i=c[1],s=Object(a.useState)(r[0]),o=Object(p.a)(s,2),b=o[0],h=o[1],g=Object(a.useState)(!1),O=Object(p.a)(g,2),y=O[0],S=O[1],C=Object(a.useState)({currentTime:0,duration:0,animationPercentage:0}),k=Object(p.a)(C,2),w=k[0],F=k[1],N=Object(a.useState)(!1),T=Object(p.a)(N,2),P=T[0],I=T[1],B=function(e){var t=e.target.currentTime,c=e.target.duration,n=Math.round(t),a=Math.round(c),r=Math.round(n/a*100);console.log(r),F(Object(d.a)(Object(d.a)({},w),{},{currentTime:t,duration:c,animationPercentage:r}))},M=function(){var t=Object(l.a)(u.a.mark((function t(){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.findIndex((function(e){return e.id===b.id})),t.next=3,h(r[(c+1)%r.length]);case 3:y&&e.current.play();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"App ".concat(P?"library-active":""),children:[Object(n.jsx)(j,{setLibraryStatus:I,libraryStatus:P}),Object(n.jsx)(m,{currentSong:b}),Object(n.jsx)(f,{audioRef:e,isPlaying:y,setIsPlaying:S,currentSong:b,setSongInfo:F,songInfo:w,songs:r,setSongs:i,setCurrentSong:h}),Object(n.jsx)(v,{libraryStatus:P,audioRef:e,isPlaying:y,setCurrentSong:h,songs:r,setSongs:i}),Object(n.jsx)("audio",{onTimeUpdate:B,onLoadedMetadata:B,ref:e,src:b.audio,onEnded:M})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,28)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.6625af84.chunk.js.map